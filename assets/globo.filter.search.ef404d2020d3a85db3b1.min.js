(self.webpackChunkgloboFilter=self.webpackChunkgloboFilter||[]).push([[464],{549:(e,t,o)=>{var l,r,n,i;window.globofilter=(l=window.globofilter||{},r=l.$,n={},i=window.innerWidth?window.innerWidth:0!=document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth,l.getRedirectUrl=function(e){var t=!1;if(l.shop.redirects){var o=e.toLowerCase();(l.shop.redirects.hasOwnProperty(e)||l.shop.redirects.hasOwnProperty(o))&&(t=(-1==(t=l.shop.redirects[e]||l.shop.redirects[o]).indexOf("http")?l.shop.url:"")+(-1==t.indexOf("http")&&"/"!=t.substring(0,1)?"/":"")+t)}return t},l.initInputRedirectUrl=function(e){e.on("keyup",(function(t){var o=l.getRedirectUrl(e.val());"Enter"!==t.key&&13!==t.keyCode||0==o||(t.preventDefault(),t.stopPropagation(),window.location.href=o)})),e.closest("form").unbind("submit").bind("submit",(function(t){var o=l.getRedirectUrl(e.val());if(0!=o)return t.preventDefault(),window.location.href=o,!1})),e.closest("form").find('[type="submit"]').unbind("click").bind("click",(function(t){var o=l.getRedirectUrl(e.val());if(0!=o)return t.preventDefault(),window.location.href=o,!1}))},l.getSearchData=function(e,t){window.globoSearchConvertKeyword&&"function"==typeof window.globoSearchConvertKeyword&&(e=window.globoSearchConvertKeyword(e)),l.dispatchCustomEvent(window,"globoFilterSearch",e);var o=e?e.trim():e;if(o in n)t(n[o]);else{var i=null;null!=l.collection.excludeTags&&""!=l.collection.excludeTags&&(i=l.collection.excludeTags),null!=l.collection.tags&&""!=l.collection.tags&&l.collection.tags,r.ajax({url:l.api.url+"/search",method:"get",dataType:"jsonp",data:{shop:l.shop.domain,locale:l.shop.cur_locale&&l.shop.locale!=l.shop.cur_locale?l.shop.cur_locale:null,term:e,country:l.shop.cur_country?l.shop.cur_country:null,excludeTags:i,tags:window.searchTags||null,sort:window.searchSort||null},success:function(e){e.result&&""!=e.result.term&&e.result.total_product&&l.addSearchTerms(e.result.term,e.result.total_product?e.result.total_product:0),e.result.hasOwnProperty("products")&&e.result.products.length&&e.result.products.map((function(e){return l.productTransform(e)})),n[o]=e,t(e)}})}},l.initSearch=function(){null!=l.collection.excludeTags&&""!=l.collection.excludeTags&&l.collection.excludeTags,null!=l.collection.tags&&""!=l.collection.tags&&l.collection.tags,r("html").removeClass("spf-status-loading");var e=null;r(document).on("input",".gl-d-searchbox-input",(function(t){var o=r(t.currentTarget);null!=e&&clearTimeout(e),e=setTimeout((function(){l.getSearchData(o.val(),(function(e){null==l.template.results&&(l.template.results=l.GLiquid.parse(r("#gspfSearchResult").html().replace(/scripttag/g,"script"))),e.result.url=l.getRedirectUrl(e.result.term);var t=l.GLiquid.renderSync(l.template.results,{result:e.result,layout:1,translation:l.translation});r(".gl-fullscreen-initial-content").html(r(t).find(".gl-fullscreen-initial-content").html()),r(".gl-fullscreen-suggestions").html(r(t).find(".gl-fullscreen-suggestions").html()),r("body").addClass("gl-search-open"),l.dispatchCustomEvent(window,"globoFilterRenderSearchCompleted"),l.initOwlCarousel(!1)}))}),300)})).on("keyup",(function(e){27==e.keyCode&&r("#glFilter-search-popup").fadeOut(150,(function(){r("#glFilter-search-popup").remove(),r("body").removeClass("gl-search-open"),l.dispatchCustomEvent(window,"globoFilterCloseSearchCompleted")}))})).on("click",".gl-d-close-btn, .gl-backdrop",(function(e){r("#glFilter-search-popup").fadeOut(150,(function(){r("#glFilter-search-popup").remove(),r("body").removeClass("gl-search-open"),l.dispatchCustomEvent(window,"globoFilterCloseSearchCompleted")}))})).on("focus",'form[action*="search"] input[type="text"]:not(.gf-controls-search-input), form[action*="search"] input[type="search"]:not(.gf-controls-search-input), .search-input, .search__input, #text-search:not(.gf-controls-search-input), .search--root input.search--textbox:not(.gf-controls-search-input), #SearchContainer #search-input:not(.gf-controls-search-input)',(function(e){if((i<=991&&!window.mobileSearchNormalLayout||1==parseInt(l.search.layout))&&(null==l.template.results&&(l.template.results=l.GLiquid.parse(r("#gspfSearchResult").html().replace(/scripttag/g,"script"))),0==r("#glFilter-search-popup").length)){var t=l.GLiquid.renderSync(l.template.results,{result:{isEmpty:1,loading:!0},layout:1,translation:l.translation});r(t).appendTo("body"),l.dispatchCustomEvent(window,"globoFilterRenderSearchCompleted"),r(".gl-d-searchbox-input").val(r(e.currentTarget).val()).attr("placeholder",r(e.currentTarget).attr("placeholder")).focus().trigger("keyup"),l.initInputRedirectUrl(r(".gl-d-searchbox-input"))}})).on("click",".globo-search-activator",(function(e){if((i<=991&&!window.mobileSearchNormalLayout||1==parseInt(l.search.layout))&&(null==l.template.results&&(l.template.results=l.GLiquid.parse(r("#gspfSearchResult").html().replace(/scripttag/g,"script"))),0==r("#glFilter-search-popup").length)){var t=l.GLiquid.renderSync(l.template.results,{result:{isEmpty:1,loading:!0},layout:1,translation:l.translation});r(t).appendTo("body"),l.dispatchCustomEvent(window,"globoFilterRenderSearchCompleted"),r(".gl-d-searchbox-input").val(r(e.currentTarget).val()).attr("placeholder",r(e.currentTarget).attr("placeholder")).focus().trigger("keyup"),l.initInputRedirectUrl(r(".gl-d-searchbox-input"))}})),1!=parseInt(l.search.layout)&&(i>991||window.mobileSearchNormalLayout)&&l.initAutoComplete()},l.initAutoComplete=function(){Promise.all([o.e(567),o.e(413)]).then(o.bind(o,565)).then((()=>{r('form[action*="search"] input[type="text"]:not(.gf-controls-search-input), form[action*="search"] input[type="search"]:not(.gf-controls-search-input), .search-input, .search__input, #text-search:not(.gf-controls-search-input)').each((function(e){var t=r(this);t.addClass("gf-autocomplete-input"),l.initInputRedirectUrl(t);var o={of:t,at:"center bottom",my:"center top",collision:"flip"},n=t.closest("form").length?t.closest("form"):t,a=n.offset().left,s=n.width(),c=i-a-s;Math.abs(n.offset().top+n.height()-(t.offset().top+t.height())),s>650||a>325&&c>325||a-c<50?o={of:t,at:"center bottom",my:"center top",collision:"flip"}:a>c?o={of:t,at:"right bottom",my:"right top",collision:"flip"}:a<c&&(o={of:t,at:"left bottom",my:"left top",collision:"flip"}),o=window.autocompletePosition?Object.assign({},o,window.autocompletePosition):o,t.autocomplete({minLength:l.search.zero_character_suggestion?0:1,delay:250,appendTo:window.autocompleteFormSelector?r(window.autocompleteFormSelector):null,classes:{"ui-autocomplete":3==parseInt(l.search.layout)?"ui-autocomplete-flex":"ui-autocomplete"},position:o,source:function(e,t){l.getSearchData(e.term,(function(e){t(e),l.dispatchCustomEvent(window,"globoFilterSearchCompleted",e)}))},open:function(){l.initOwlCarousel(t)}}).focus((function(){(""!=t.val()||l.search.zero_character_suggestion)&&t.autocomplete("search")})).data("ui-autocomplete")._renderItem=function(e,t){t.url=l.getRedirectUrl(t.term),null==l.template.results&&(l.template.results=l.GLiquid.parse(r("#gspfSearchResult").html().replace(/scripttag/g,"script")));var o=l.GLiquid.renderSync(l.template.results,{result:t,layout:l.search.layout,translation:l.translation});return r(o).appendTo(e)},window.addEventListener("globoFilterSearchClose",(function(){try{t.autocomplete("close")}catch(e){console.log(e)}}))})),r(window).resize((function(){r(".ui-autocomplete").css("display","none")}))}))},l.resizeWidget=function(e){if(!window.autocompleteFormSelector){var t=e,o=t.autocomplete("widget");resultTop=o.offset().top,o.css({height:"auto"});var l=o.height(),n=t.offset().top,i=t.outerHeight(),a=r(window).scrollTop(),s=window.innerHeight?window.innerHeight:0!=document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight,c=resultTop<n?n-a:a+s-(n+i)-15,u=Math.min(l,c),p=resultTop<n?n-u:n+i;o.css({height:u+"px",top:p+"px"})}},l.initOwlCarousel=function(e){r(".gl-fullscreen-initial-content .owl-carousel").length?o.e(369).then(o.t.bind(o,9,23)).then((()=>{r("#gl-fullscreen-recommended-products").owlCarousel({loop:!1,margin:20,nav:!0,dots:!1,navText:['<svg class="Polaris-Icon__Svg" viewBox="0 0 20 20" focusable="false" aria-hidden="true"><path d="M12 16a.997.997 0 0 1-.707-.293l-5-5a.999.999 0 0 1 0-1.414l5-5a.999.999 0 1 1 1.414 1.414L8.414 10l4.293 4.293A.999.999 0 0 1 12 16" fill-rule="evenodd"></path></svg>','<svg class="Polaris-Icon__Svg" viewBox="0 0 20 20" focusable="false" aria-hidden="true"><path d="M8 16a.999.999 0 0 1-.707-1.707L11.586 10 7.293 5.707a.999.999 0 1 1 1.414-1.414l5 5a.999.999 0 0 1 0 1.414l-5 5A.997.997 0 0 1 8 16" fill-rule="evenodd"></path></svg>'],responsiveBaseElement:"#gl-fullscreen-recommended-products",onInitialized:function(){e&&l.resizeWidget(e)},responsive:window.globoOwlCarouselResponsive||{0:{items:1},480:{items:2},767:{items:3},991:{items:4},1200:{items:5},1400:{items:6}}})})):e&&l.resizeWidget(e)},l)}}]);